"use strict";(self.webpackChunkeffect_docs=self.webpackChunkeffect_docs||[]).push([[831],{3341:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"authentication","title":"Authentication","description":"eFFECT uses two different authentication mechanisms depending on the environment: JWT for development and testing, and Azure Entra ID for production. This allows for flexibility in development while ensuring secure, role-based access in production.","source":"@site/docs/authentication.md","sourceDirName":".","slug":"/authentication","permalink":"/effect-docs/authentication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Run locally","permalink":"/effect-docs/getting-started"},"next":{"title":"Database","permalink":"/effect-docs/database"}}');var r=t(4848),o=t(8453);const s={},l="Authentication",c={},a=[{value:"\ud83d\udd10 Login Flow",id:"-login-flow",level:2},{value:"\u2699\ufe0f Azure Configuration Requirements",id:"\ufe0f-azure-configuration-requirements",level:2},{value:"\u26a0\ufe0f Environment Configuration",id:"\ufe0f-environment-configuration",level:2},{value:"\ud83d\udd10 Development &amp; Test Authentication (JWT)",id:"-development--test-authentication-jwt",level:2},{value:"Login Flow",id:"login-flow",level:3},{value:"JWT Details",id:"jwt-details",level:3},{value:"Environment Configuration",id:"environment-configuration",level:3}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,r.jsxs)(n.p,{children:["eFFECT uses two different authentication mechanisms depending on the environment: ",(0,r.jsx)(n.strong,{children:"JWT"})," for development and testing, and ",(0,r.jsx)(n.strong,{children:"Azure Entra ID"})," for production. This allows for flexibility in development while ensuring secure, role-based access in production."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"production-authentication-azure-entra-id",children:"Production Authentication (Azure Entra ID)"}),"\n",(0,r.jsxs)(n.p,{children:["In the production environment, eFFECT uses ",(0,r.jsx)(n.strong,{children:"Azure Entra ID"})," (formerly Azure Active Directory) for secure authentication and role-based access control."]}),"\n",(0,r.jsx)(n.p,{children:"This setup ensures enterprise-grade identity protection and centralized user management for FFT teams."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-login-flow",children:"\ud83d\udd10 Login Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"The user accesses the eFFECT production app."}),"\n",(0,r.jsxs)(n.li,{children:["The app redirects the user to the ",(0,r.jsx)(n.strong,{children:"Microsoft login portal"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["After successful login, Azure Entra ID returns an ",(0,r.jsx)(n.strong,{children:"access token"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"The backend validates the token using Microsoft's public keys."}),"\n",(0,r.jsx)(n.li,{children:"The app identifies the user and role."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-azure-configuration-requirements",children:"\u2699\ufe0f Azure Configuration Requirements"}),"\n",(0,r.jsx)(n.p,{children:"To enable Azure Entra ID authentication, the following resources must be configured in the Azure Portal:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"App Registration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Redirect URIs"}),"\n",(0,r.jsx)(n.li,{children:"Token configuration (including group claims)"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Client Secret"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Admin & User Groups"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-environment-configuration",children:"\u26a0\ufe0f Environment Configuration"}),"\n",(0,r.jsxs)(n.admonition,{title:"Secure Secrets Management",type:"caution",children:[(0,r.jsxs)(n.p,{children:["The frontend and backend rely on environment variables for credentials and other sensitive configuration. These are ",(0,r.jsx)(n.strong,{children:"securely stored in GitHub Secrets"})," and automatically injected during deployment via ",(0,r.jsx)(n.strong,{children:"GitHub Actions"}),"."]}),(0,r.jsxs)(n.p,{children:["Do ",(0,r.jsx)(n.strong,{children:"not"})," commit sensitive variables to the repository."]})]}),"\n",(0,r.jsx)(n.h2,{id:"-development--test-authentication-jwt",children:"\ud83d\udd10 Development & Test Authentication (JWT)"}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"dev"})," and ",(0,r.jsx)(n.code,{children:"test"})," environments, authentication is based on ",(0,r.jsx)(n.strong,{children:"JSON Web Tokens (JWT)"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"login-flow",children:"Login Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"A user logs in via a custom login form."}),"\n",(0,r.jsx)(n.li,{children:"The backend validates the credentials (usually a mock or test user base)."}),"\n",(0,r.jsx)(n.li,{children:"A JWT is generated and sent to the frontend."}),"\n",(0,r.jsx)(n.li,{children:"The frontend stores the token."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"jwt-details",children:"JWT Details"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The JWT contains userID and role."}),"\n",(0,r.jsx)(n.li,{children:"The backend verifies the token on every protected route."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Ensure the ",(0,r.jsx)(n.code,{children:".env"})," file includes:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"JWT_SECRET_KEY=your_dev_or_test_secret\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);